<!-- Programmatic anchor clicks (call must be from a direct user click; some browsers may still limit tabs) -->
<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Open multiple links (Alpine.js)</title>
  <script src="https://cdn.jsdelivr.net/npm/alpinejs@3.14.8/dist/cdn.min.js" defer></script>
  <style>
    body{font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;padding:24px}
    .chip{display:inline-block;padding:6px 10px;margin:4px;border-radius:8px;border:1px solid #ddd}
    button{margin-right:8px;padding:8px 12px;border-radius:6px;border:1px solid #888;background:#f5f5f5;cursor:pointer}
  </style>
</head>
<body>

<div x-data="{
    links: [
      { title: 'Example', url: 'https://example.com' },
      { title: 'MDN',     url: 'https://developer.mozilla.org' },
      { title: 'Alpine',  url: 'https://alpinejs.dev' }
    ],
    selected: [],
    openMultiple(urls) {
      // create hidden anchors and click them synchronously (user gesture required)
      for (let i = 0; i < urls.length; i++) {
        const a = document.createElement('a');
        a.href = urls[i];
        a.target = '_blank';
        a.rel = 'noopener noreferrer';
        a.style.display = 'none';
        document.body.appendChild(a);
        a.click();
        document.body.removeChild(a);
      }
    },
    openAll() { this.openMultiple(this.links.map(l => l.url)); },
    openSelected() { if (this.selected.length) this.openMultiple(this.selected); }
  }" class="space-y-4">

  <div>
    <button type="button" @click="openAll()">Open all links</button>
    <button type="button" @click="openSelected()" :disabled="selected.length === 0">Open selected</button>
  </div>

  <div>
    <template x-for="(link, idx) in links" :key="idx">
      <label class="chip">
        <input type="checkbox" x-model="selected" :value="link.url" />
        <span x-text="link.title" style="margin-left:8px"></span>
        <a :href="link.url" target="_blank" rel="noopener noreferrer" style="margin-left:10px;font-size:0.85em">â†—</a>
      </label>
    </template>
  </div>

  <div>
    <strong>Selected URLs:</strong>
    <span x-text="selected.join(', ') || 'none'"></span>
  </div>

</div>

</body>
</html>
